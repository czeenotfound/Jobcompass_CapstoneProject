{% extends 'users/base.html' %}
{% load widget_tweaks %}

{% block content %}
    <div aria-label="breadcrumb" class="custombreadcrumb container bg-light p-4 mb-4 shadow-sm">
        <ol class="breadcrumb mb-0 d-flex justify-content-end">
            <li class="breadcrumb-item"><a href="{% url 'dashboard' %}" class="text-decoration-none text-dark text-muted">Dashboard</a></li>
            <li class="breadcrumb-item"><a href="{{request.META.HTTP_REFERER}}" class="text-decoration-none text-dark text-muted">Manage Job Fairs</a></li>
            <li class="breadcrumb-item active text-dark" aria-current="page">Update Job Fair</li>
        </ol>
    </div>
    <div class="container">
        <div class="row">
            <h4 class="mt-4 mb-4 col-lg-2"><a href="{{request.META.HTTP_REFERER}}" class="text-decoration-none text-dark"><i class="fa-solid fa-chevron-left"></i> Back</a></h4>
            <form class="col-lg-10 card p-5 mb-5" method="POST">
                {% csrf_token %}
                <h1 class="mb-4">Update Job Fair</h1>
                <hr>
                <h4 for="employerSocials" class="form-label mb-3">Job Fair Information</h4>

                <div class="mb-3">
                    <label for="jobfairtitle" class="form-label">Job Fair Title</label>
                    {% render_field form.title class="form-control" %}
                </div>

                <div class="mb-3">
                    <label for="jobfairtitle" class="form-label">Company's Industry</label>
                    <input type="text" disabled class="form-control" name="" id="" placeholder="{{user.company.industry}}">
                </div>
                <div class="row">
                    <div class="col-sm-6 mb-3">
                        <label for="fair_event_held" class="form-label">Job Fair Type</label>
                        {% render_field form.fair_event_held class="form-select" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairattendees" class="form-label">Attendees</label>
                        {% render_field form.max_attendees class="form-control" %}
                    </div>
                </div>

                <div class="mb-3">
                    <label for="jobfairUrlVirtual" class="form-label">URL Virtual (For Virtual Job Fair)</label>
                    {% render_field form.url_location class="form-control" placeholder="https://www.website.com" %}
                </div>

                <div class="mb-3">
                    <label for="jobfairdescription" class="form-label">Description</label>
                    {% render_field form.description class="form-control" rows="4" %}
                </div>

                <hr>

                <div class="row">
                    <h5 class="mb-3">Contacts</h5>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairattendees" class="form-label">Organizer Email</label>
                        {% render_field form.contact_email class="form-control" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairattendees" class="form-label">Organizer Phone #</label>
                        {% render_field form.contact_phone class="form-control" %}
                    </div>
                </div>
                <hr>

                <div class="row">
                    <h5 class="mb-3">Job Fair Date</h5>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairstartDate class="form-label">Start Date</label>
                        {% render_field form.start_date class="form-control" type="date"  %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairendDate class="form-label">End Date</label>
                        {% render_field form.end_date class="form-control" type="date"  %}
                    </div>
                    
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairstartDate class="form-label">Start Time</label>
                        {% render_field form.start_time class="form-control" type="time"  %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairendDate class="form-label">End Time</label>
                        {% render_field form.end_time class="form-control" type="time"  %}
                    </div>

                    <h5 class="mb-3">Application Date</h5>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairApplicationStarts class="form-label">Application Start</label>
                        {% render_field form.application_starts class="form-control" type="date"  %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="jobfairApplicationDeadline class="form-label">Application Deadline</label>
                        {% render_field form.application_deadline class="form-control" type="date"  %}
                    </div>
                </div>

                <hr>
                
                <div class="row">
                     <label for="jobfairimage" class="form-label fw-bold">Job Fair Cover Image</label>
                    <div class="col-6 d-flex align-items-center justify-content-center">
                        {% if form.image.value %}
                            <div class="mb-2 row">
                                <img src="{{ form.image.value.url }}" alt="Current Avatar" class="img-fluid" style="max-width: 450px; max-height: 450px;">
                            </div>
                        {% endif %}
                    </div>
                    <div class="col-6 mb-3 bg-light p-3">
                        <label for="userAvatar" class="form-label fw-bold">User Avatar</label>
                        {% render_field form.image class="form-control" id="userAvatar" %}
                    </div>
                </div>
                <hr>
                <div class="row">
                    <h4 for="employerAddress" class="form-label mb-3">International Location Venue</h4>
                    <div class="col-sm-6 mb-3">
                        <label for="country-text" class="form-label">Country</label>
                        {% render_field address_form.country class="form-control form-control-md" id="country-text" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="countrycity-text" class="form-label">City</label>
                        {% render_field address_form.countrycity class="form-control form-control-md" id="countrycity-text" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="countrypostal-text" class="form-label">Postal Code</label>
                        {% render_field address_form.countrypostal class="form-control form-control-md" id="countrypostal-text" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="countrystreet-text" class="form-label">Street (Optional)</label>
                        {% render_field address_form.countrystreet class="form-control form-control-md" id="countrystreet-text" %}
                    </div>

                    <hr>
                    
                    <h4 for="employerAddress" class="form-label mb-3">Location Venue</h4>
                    <div class="col-sm-6 mb-3">
                        <label class="form-label">Region *</label>
                        <select name="region" class="form-control form-control-md mb-2"" id="region"></select>
                        {% render_field address_form.region class="form-control form-control-md" name="region_text" id="region-text" placeholder="Enter Region" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label class="form-label">Province *</label>
                        <select name="province" class="form-control form-control-md mb-2"" id="province"></select>
                        {% render_field address_form.province class="form-control form-control-md" name="province_text" id="province-text" placeholder="Enter Province" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label class="form-label">City / Municipality *</label>
                        <select name="city" class="form-control form-control-md mb-2"" id="city"></select>
                        {% render_field address_form.city class="form-control form-control-md" name="city_text" id="city-text" placeholder="Enter City" %}
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label class="form-label">Barangay *</label>
                        <select name="barangay" class="form-control form-control-md mb-2"" id="barangay"></select>
                        {% render_field address_form.barangay class="form-control form-control-md" name="barangay_text" id="barangay-text" placeholder="Enter Barangay" %}
                    </div>
                    <div class="col-md-12 mb-3">
                        <label for="street-text" class="form-label">Venue</label>
                        {% render_field address_form.street class="form-control form-control-md" id="street-text" placeholder="(e.g. hotel venue, street)"  %}
                    </div>
                </div>
                
                <!-- Submit Button -->
                <div class="mt-4 d-flex justify-content-end gap-2">
                    <a href="{% url 'manage-job-fairs' %}" class="customButton btn btn-outline-danger py-3 px-5">
                        <i class="fa-solid fa-times me-3"></i> Cancel
                    </a>
                    <button type="submit" class="customButton btn btn-primary py-3 px-5">
                        <i class="fa-solid fa-save me-3"></i> Update
                    </button>
                </div>
            </form>
            
        </div>
    </div>

{% endblock content %}
